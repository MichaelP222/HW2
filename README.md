# HW02: Control Flow and Matrix Operations
## Problem 1: Review of Random and Prime Numbers

Complete the `problem1_main.cpp` program that calls functions in `src/gen_number.cpp`, `src/print_menu.cpp`, and `src/post_process.cpp`.

At a high level, the program 
either parses the first command line argument as an integer if it exists (see the [atoi()](https://en.cppreference.com/w/c/string/byte/atoi) function for a possible solution)
or utilizes a random number generator to generate a two-digit positive integer.
The program then allows the user to perform one or more of the following operations by inputting a "choice" number:

1. Double the number.
2. Reverse the digits of the number.
3. Raise the number to the power of 2, 3, or 4. Re-prompt the user for the specified power ("Enter power (2, 3, or 4): "). If the power is not 2, 3, or 4, print "Only power 2, 3, or 4 is allowed.", no further action is required.
4. Sum the digits of the number.
5. If the number is a two-digit number, then raise the first digit to the power of the second digit. *Otherwise*, print "The number must be two digits in length".
6. If the number is a three-digit number and the last digit is less than or equal to 4, then raise the first two digits to the power of the last digit. *Otherwise*, print "The number must be three digits in length" or "The last digit must be <= 4.".

After performing any of the above operations, the following must happen:
1. A check for integer overflow: a simple check for when the number is negative suffices for this program. If overflow has occurred, print "Overflow occured!" and regenerate the number.
2. Determine if the number is prime
3. A check for zero: if the number ever becomes 0, the program should exit after printing "The number is now 0. Exiting program."
4. If the number is less than 10, add 10 to the number

Each successive operation should be performed on the number generated by the last operation.
Your program should not contain any global variables and each of these operations must be implemented by a separate function.
Also your program should be menu driven.

*Note:* the line `srand((unsigned) time(NULL));` in `problem1_main.cpp` is provided to [seed](https://en.wikipedia.org/wiki/Random_seed) the random number generator for you. To make your own random number, you may call the generator through the function call `rand()`, which returns a random integer between 0 and a maximum random value. You will need to modify this number to fit within the desired two-digit range. Implement this process in the `generateNum` function.

**Problem 1 requires you to write your own header files.**

### `include/gen_number.h` should contain the following function declaration:
- `int generateNum();`
- `int doubleNum(int num);`
- `int reverseDigit(int num);`
- `int sumDigits(int num);`
- `int raisePow2_3_4(int num, int exp);`
- `int raiseFirstDigitPowSecondDigit(int num);`
- `int raiseFirstAndSecondDigitPowThirdDigit(int num);`

### `include/print_menu.h` should contain the following function declaration:
- `void print_menu();`

### `include/post_process.h` should contain the following function declarations:
- `bool isNumPrime(int num);`
- `int addTen(int num);`

### Compiling and Running the Program
To run the program, first compile the function definition files `gen_number.cpp`, `print_menu.cpp`, and `post_process.cpp` and save the object files as `gen_number.o`, `print_menu.o`, and `post_process.o`. Then you must link the file to the driver `problem1_main.cpp` main function that you used to test whether your code works by typing the following shell commands:

```bash
g++ problem1_main.cpp -o problem1 lib/gen_number.o lib/print_menu.o lib/post_process.o
```

This will compile your `problem1_main.cpp` and will save the executable as `problem1` in the same directory. Notice that `problem1_main.cpp` will depend on the function definitions in `src/gen_number.cpp`, `src/print_menu.cpp`, and `src/post_process.cpp` so as you develop your code make changes to these files you will need to recompile.

Note: avoid redundant `#include` statements.

### Problem 1 Script Generation

While in the root directory of the repo, use the command `script` followed by the name of the file `problem1.scr` to capture your interaction compiling and running your program as shown:

```bash
mkdir scripts
script scripts/problem1.scr
g++ -c src/gen_number.cpp -o lib/gen_number.o
g++ -c src/post_process.cpp -o lib/post_process.o
g++ -c src/print_menu.cpp -o lib/print_menu.o
g++ problem1_main.cpp -o problem1 lib/gen_number.o lib/print_menu.o lib/post_process.o
./problem1
ls -l
exit
```

### Sample Run
```
The number is: 36

1: Enter 1 to double the number.
2: Enter 2 to reverse the digits of the number.
3: Enter 3 to raise the number to the power of 2, 3, or 4.
4: Enter 4 to sum the digits of the number.
5: Enter 5 to raise the first digit to the power of the second digit.
6: Enter 6 to raise the first two digits the power of the last digit.
9: Enter 9 to terminate the program.
1

72 is not prime.

1: Enter 1 to double the number.
2: Enter 2 to reverse the digits of the number.
3: Enter 3 to raise the number to the power of 2, 3, or 4.
4: Enter 4 to sum the digits of the number.
5: Enter 5 to raise the first digit to the power of the second digit.
6: Enter 6 to raise the first two digits the power of the last digit.
9: Enter 9 to terminate the program.
2

27 is not prime.

1: Enter 1 to double the number.
2: Enter 2 to reverse the digits of the number.
3: Enter 3 to raise the number to the power of 2, 3, or 4.
4: Enter 4 to sum the digits of the number.
5: Enter 5 to raise the first digit to the power of the second digit.
6: Enter 6 to raise the first two digits the power of the last digit.
9: Enter 9 to terminate the program.
3

Enter power (2, 3, or 4): 4

531441 is not prime.

1: Enter 1 to double the number.
2: Enter 2 to reverse the digits of the number.
3: Enter 3 to raise the number to the power of 2, 3, or 4.
4: Enter 4 to sum the digits of the number.
5: Enter 5 to raise the first digit to the power of the second digit.
6: Enter 6 to raise the first two digits the power of the last digit.
9: Enter 9 to terminate the program.
4

18 is not prime.

1: Enter 1 to double the number.
2: Enter 2 to reverse the digits of the number.
3: Enter 3 to raise the number to the power of 2, 3, or 4.
4: Enter 4 to sum the digits of the number.
5: Enter 5 to raise the first digit to the power of the second digit.
6: Enter 6 to raise the first two digits the power of the last digit.
9: Enter 9 to terminate the program.
3

Enter power (2, 3, or 4): 4

104976 is not prime.

1: Enter 1 to double the number.
2: Enter 2 to reverse the digits of the number.
3: Enter 3 to raise the number to the power of 2, 3, or 4.
4: Enter 4 to sum the digits of the number.
5: Enter 5 to raise the first digit to the power of the second digit.
6: Enter 6 to raise the first two digits the power of the last digit.
9: Enter 9 to terminate the program.
5

The number must be two digits in length.
104976 is not prime.

1: Enter 1 to double the number.
2: Enter 2 to reverse the digits of the number.
3: Enter 3 to raise the number to the power of 2, 3, or 4.
4: Enter 4 to sum the digits of the number.
5: Enter 5 to raise the first digit to the power of the second digit.
6: Enter 6 to raise the first two digits the power of the last digit.
9: Enter 9 to terminate the program.
6

The number must be three digits in length.
104976 is not prime.

1: Enter 1 to double the number.
2: Enter 2 to reverse the digits of the number.
3: Enter 3 to raise the number to the power of 2, 3, or 4.
4: Enter 4 to sum the digits of the number.
5: Enter 5 to raise the first digit to the power of the second digit.
6: Enter 6 to raise the first two digits the power of the last digit.
9: Enter 9 to terminate the program.
0

Invalid choice.
104976 is not prime.

1: Enter 1 to double the number.
2: Enter 2 to reverse the digits of the number.
3: Enter 3 to raise the number to the power of 2, 3, or 4.
4: Enter 4 to sum the digits of the number.
5: Enter 5 to raise the first digit to the power of the second digit.
6: Enter 6 to raise the first two digits the power of the last digit.
9: Enter 9 to terminate the program.
3

Enter power (2, 3, or 4): 4

Overflow occured!
81 is not prime.

1: Enter 1 to double the number.
2: Enter 2 to reverse the digits of the number.
3: Enter 3 to raise the number to the power of 2, 3, or 4.
4: Enter 4 to sum the digits of the number.
5: Enter 5 to raise the first digit to the power of the second digit.
6: Enter 6 to raise the first two digits the power of the last digit.
9: Enter 9 to terminate the program.
9
```

## Problem 2: Matrix Operations Using C++ Arrays and Loops

Write source code to support `problem2_main.cpp` that reads two matrices of type `int` from a file with the format given in `input.txt`.
The first integer represents the number of rows.
The second integer represents the number of columns.
The third line and beyond can contain values that are written in the format of the matrix it represents. The file then repeats the same format for the second matrix.

### Addition and Subtraction

Two matrices can be added or subtracted if they have the same size.
Suppose $A = [a_{ij}]$ and $B = [b_{ij}]$ are two matrices of the size $m\times n$, in which $a_{ij}$ denotes the element of $A$ in the ith row and the jth column, and so on.  The sum and difference of $A$ and $B$ are given by:

$$\begin{align*}
A+B&=[a_{ij} + b_{ij}]\\
A-B&=[a_{ij} - b_{ij}]
\end{align*}$$

### Multiplication

The multiplication of $A$ and $B$ $(A\cdot B)$ is defined only if the number of columns of A is the same as the number of rows of B.  If A is of the size $m\times n$ and B is of the size $n\times t$, the $A\cdot B = C$ (represented by $[c_{ik}]$) is of the size $m\times t$ and the element $c_{ik}$ is given by the formula:

$$\begin{equation*}
c_{ik}=a_{i1}b_{1k}+a_{i2}b_{2k}+ \dotso + a_{in}b_{nk}
\end{equation*}$$

### Transpose

Given a 2D array matrix, return the transpose of matrix.

The transpose of a matrix is the matrix flipped over its main diagonal, switching the matrix's row and column indices.

$$\begin{bmatrix}
 a_{00} & a_{01} & a_{02}\\
 a_{10} & a_{11} & a_{12}\\
 a_{20} & a_{21} & a_{22}\\
% \hdotsfor{5} \\
\end{bmatrix}$$

becomes:

$$\begin{bmatrix}
 a_{00} & a_{10} & a_{20}\\
 a_{01} & a_{11} & a_{21}\\
 a_{02} & a_{12} & a_{22}\\
% \hdotsfor{5} \\
\end{bmatrix}$$

### 3x3 Matrix Determinant

A square matrix is a matrix with the same number of rows as the number of columns:

$$\begin{bmatrix}
 a_{00} & a_{01} & a_{02}\\
  a_{10} & a_{11} & a_{12}\\
   a_{20} & a_{21} & a_{22}\\
   % \hdotsfor{5} \\
   \end{bmatrix}$$

The _determinant_ is a useful value that can be computed from the elements of a _square matrix_. The determinant of a matrix $A$ is denoted $det(A)$, $det A$, or $|A|$. 
For a $3\times 3$ matrix, the formula to compute the  determinant is:

$$det(A) = a_{00}\cdot(a_{11}\cdot a_{22} - a_{12}\cdot a_{21}) - a_{01}\cdot(a_{10}\cdot a_{22} - a_{12}\cdot a_{20}) + a_{02}\cdot(a_{10}\cdot a_{21} - a_{11}\cdot a_{20})$$

Determinants will only be compute on 3x3 matrices. You will not have a test case that expects the determinant for a 4x4, 5x5, etc. matrix.

### Problem 2 Requirements

Write a program that reads two matrices from a file input and populates corresponding _array_ variables.
Use loop(s) (repetition) to assign each element.
Write functions to compute the addition, subtraction, and multiplication of the matrices, and the determinant of the matrix multiplication result.
Prompt the user for file (recall it should include the path). 
The prompts should be of the format "Enter filename for both matrices: ".

Check in each function to make sure that the matrix dimensions are correct especially when performing multiplication of matrices. If the matrix dimensions don't match, then leave the resulting matrix alone.

Output results to the screen.  Each operation should be implemented in a separate function in `matrix.cpp`. The header file should have the necessary function prototypes.  Configure a _Makefile_ to compile the project.

You are responsible for the following function definitions in `matrix.cpp`:
- `void fileIO(string filename, int A[][AR_CAP], int& n1, int& m1, int B[][AR_CAP], int& n2, int& m2)`

- `void matrixAddition(const int A[][AR_CAP], int n1, int m1, const int B[][AR_CAP], int n2, int m2, int res[][AR_CAP])`

- `void matrixSubtraction(int A[][AR_CAP], int n1, int m1, int B[][AR_CAP], int n2, int m2, int res[][AR_CAP])`

- `void matrixMultiplication(int A[][AR_CAP], int n1, int m1, int B[][AR_CAP], int n2, int m2, int res[][AR_CAP])`

- `void matrixTranspose(int M[][AR_CAP], int n, int m, int res[][AR_CAP])`

- `double matrixDeterminant3D(int M[3][3])`

- `void print2DMatrix(const int M[][AR_CAP], int n1, int m1)`

`fileIO` may assume that the provided file will always be of the appropriate format.
You may predefine `AR_CAP` with a size of 50 to statically allocate memory to the 2D matrix initially.
Note that the resultant matrix to the `matrixMultiplication` function must be initialized to zero prior to the function call. 

**The header file `include/matrix.h` for Problem 2 is provided for you.**

### Problem 2 Script Generation
Use the command `script` to capture your interaction compiling and running the program, including all operations, as shown below:

```bash
mkdir -p scripts
script scripts/problem2.scr
date
g++ -c src/matrix.cpp -o lib/matrix.o
g++ problem2_main.cpp -o problem2 lib/matrix.o	
ls -l
./problem2
exit
```

Save all files into the `problem2/src`.

## Makefile
We programmers are lazy and typing a compile command for each file every time we want to build is too much effort, especially if there is a necessary order to them. 
`make` is a simple tool that we can use to turn all of those commands into a single word.

Create a `Makefile` to make recompilation and cleaning out the build easier.
Follow instructions laid out in class.
The `Makefile` must be located in the root directory of the repository.

It must have 
- an `all` rule, which must be the first rule in the file
- a `problem1` rule
- a `problem2` rule
- a `clean` rule, which must be the last rule

Note that the `Makefile` will *only* be used to build the programs and not run them.

## Running Local Tests

We prefer `cmake` for running the tests as it is easier to work with for larger, more complicated projects than `make`.
For this reason, we use `cmake` to drive the Gradescope testing for this class.
In fact, `cmake` generates a very fancy but unreadable `Makefile` in its build directory.

To run the tests, run the following commands in the same directory as the `CMakeLists.txt` file:
```bash
cmake -B build
make -C build
./build/bin/all-tests
```

## To Submit
The following files need to be submitted to Gradescope in *one* repo.

For Problem 1:
- `include/gen_number.h`
- `src/gen_number.cpp`
- `include/print_menu.h`
- `src/print_menu.cpp`
- `include/post_process.h`
- `src/post_process.cpp`
- `problem1_main.cpp`
- `scripts/problem1.scr`

For Problem 2:
- `src/matrix.cpp`: your functions file
- `include/matrix.h`: the header to your functions file
- `problem2_main.cpp`: your customized main function/driver code
- `scripts/problem2.scr`: script file showing how your code functions in the context of your main function

For both:
- `Makefile` with proper commands

### Things to Remember
- Do not delete or change any other code in the repository, as it is necessary to run test cases in Gradescope.
- The initial code will not necessarily compile. You will have to write the necessary code.
- Commit all changes as you develop the code in your individual private repo. Please provide descriptive commit messages and push from local to your repository. If you do not stage, commit, *and* push, GitHub classroom will not receive your code at all.
- Make sure your last push is before the deadline. Your last push will be considered as your final submission.
- There is no partial credit for code that does not compile.
- If you need to be considered for partial grade for any reason (e.g. failing tests on Gradescope), then make a regrade request on Gradescope before the deadline. Late requests will not be considered.
